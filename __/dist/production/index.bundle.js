(function(t,e){for(var n in e)t[n]=e[n]})(this,function(n){var i={};function a(t){if(i[t]){return i[t].exports}var e=i[t]={i:t,l:false,exports:{}};n[t].call(e.exports,e,e.exports,a);e.l=true;return e.exports}a.m=n;a.c=i;a.d=function(t,e,n){if(!a.o(t,e)){Object.defineProperty(t,e,{enumerable:true,get:n})}};a.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};a.t=function(e,t){if(t&1)e=a(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);a.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n};a.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};a.d(t,"a",t);return t};a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};a.p="";return a(a.s=2)}([function(t,e){(function(){t.exports=this["React"]})()},function(t,e,n){var r=znui.React||n(0);var o=n(4).SVGIcon;var i=n(5);var a=n(6);var s={"=":{text:"等于",value:"=",icon:"faEquals"},">=":{text:"大于",value:">=",icon:"faGreaterThanEqual"},"=<":{text:"小于",value:"=<",icon:"faLessThanEqual"},"!=":{text:"不等于",value:"!=",icon:"faNotEqual"},"%":{text:"相似",value:"%",icon:"faPercent"},cancel:{text:"取消",value:"cancel",icon:"faTimes"}};t.exports=r.createClass({displayName:"ZRFilterField",getDefaultProps:function t(){return{opts:["%","="],icon:"faFilter",className:""}},getInitialState:function t(){return{icon:this.props.icon,opt:this.props.opt,value:this.props.value}},__InputChange:function t(e,n){e.name=this.props.name;e.opt=this.state.opt;e.optIcon=this.state.icon;this.setState({value:e.value});this.props.onChange&&this.props.onChange(e,n);if(e.target.tagName!="INPUT"){if(!this.state.opt){return alert("The opt is null."),false}if(!e.value){return alert("The value is null."),false}this.props.onFilterChange&&this.props.onFilterChange(e,n)}},__InputEnter:function t(e,n){e.name=this.props.name;e.opt=this.state.opt;e.optIcon=this.state.icon;this.setState({value:e.value});if(!this.state.opt){return alert("The opt is null."),false}if(!e.value){this.props.onCancel&&this.props.onCancel(this.props.name)}this.props.onFilterChange&&this.props.onFilterChange(e,n)},__onOptItemClick:function t(e,n){if(e.value=="cancel"){this.setState({icon:"faFilter",opt:""});return this.props.onCancel&&this.props.onCancel(this.props.name),false}this.setState({icon:e.icon,opt:e.value});if(this.state.value){this.props.onOptChange&&this.props.onOptChange({name:this.props.name,value:this.state.value,opt:e.value,optIcon:e.icon},this)}},__optItemRender:function t(e,n){var i=this;var a=s[e];if(a){return r.createElement("div",{className:"opt "+(this.state.opt==e?"curr":""),key:n,onClick:function t(){return i.__onOptItemClick(a,n)}},a.icon&&r.createElement(o,{icon:a.icon}),a.text&&r.createElement("span",null,a.text))}},__iconClickRender:function t(){return r.createElement("ul",{className:"zr-filter-field-opts"},r.createElement(znui.react.DataView,{data:[].concat(this.props.opts).concat(["cancel"]),itemRender:this.__optItemRender}))},__renderIcon:function t(){if(this.state.icon){return r.createElement(a.Dropdown,{className:"filter-opt",popover:{render:this.__iconClickRender,onWindowInsideContainerEvent:function t(e,n){return true}}},r.createElement(o,{onClick:this.__iconClick,icon:this.state.icon}))}return null},render:function t(){if(this.props.isHidden){return null}var e=zn.extend({},this.props,{onChange:this.__InputChange,onEnter:this.__InputEnter});var n=znui.react.createReactElement(e.component||e.render||i.Input,e);return r.createElement("div",{className:znui.react.classname("zr-filter-field",this.props.className),disabled:this.props.disabled},this.__renderIcon(),n)}})},function(t,e,n){t.exports={Filter:n(3),FilterField:n(1)}},function(t,e,n){function r(){r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}return t};return r.apply(this,arguments)}var o=znui.React||n(0);var s=n(1);var i=n(7);t.exports=o.createClass({displayName:"ZRFilter",getInitialState:function t(){return{loading:true,data:{}}},__itemFilterChange:function t(e,n,i){e.data=n;e.index=i;e.sender=this;this.state.data[e.name]={name:e.name,opt:e.opt,value:e.value};this.props.onFilterChange&&this.props.onFilterChange(e,this.state.data,this)},__itemRender:function t(n,i){var a=this;return o.createElement("div",{key:i,className:"filter-item"},o.createElement("div",{className:"item-label"},n.label),o.createElement(s,r({className:"item-field"},n,{onChange:function t(e){return a.__itemFilterChange(e,n,i)}})))},__onLoading:function t(){this.setState({loading:true})},__onFinished:function t(){this.setState({loading:false})},render:function t(){return o.createElement("div",{className:znui.react.classname("zr-filter",this.props.className),style:this.props.style},o.createElement(znui.react.DataView,{data:this.props.data,itemRender:this.__itemRender,onLoading:this.__onLoading,onFinished:this.__onFinished}),this.state.loading&&o.createElement(i.Loader,{content:"...",loader:"circle",size:"size-smail",layout:"flex-row"}))}})},function(t,e){(function(){t.exports=this["icon"]})()},function(t,e){(function(){t.exports=this["input"]})()},function(t,e){(function(){t.exports=this["popup"]})()},function(t,e){(function(){t.exports=this["loader"]})()}]));