!function(t,e){for(var n in e)t[n]=e[n]}(this,function(n){var i={};function a(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}return a.m=n,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=2)}([function(t,e){!function(){t.exports=this.React}()},function(t,e,n){var a=znui.React||n(0),r=n(4).SVGIcon,i=n(5),o=n(6),s={"=":{text:"等于",value:"=",icon:"faEquals"},">=":{text:"大于",value:">=",icon:"faGreaterThanEqual"},"=<":{text:"小于",value:"=<",icon:"faLessThanEqual"},"!=":{text:"不等于",value:"!=",icon:"faNotEqual"},"%":{text:"相似",value:"%",icon:"faPercent"},cancel:{text:"取消",value:"cancel",icon:"faTimes"}};t.exports=a.createClass({displayName:"ZRFilterField",getDefaultProps:function(){return{opts:["%","="],icon:"faFilter",className:""}},getInitialState:function(){return{icon:this.props.icon,opt:this.props.opt,value:this.props.value}},__InputChange:function(t,e){if(t.name=this.props.name,t.opt=this.state.opt,t.optIcon=this.state.icon,this.setState({value:t.value}),this.props.onChange&&this.props.onChange(t,e),"INPUT"!=t.target.tagName){if(!this.state.opt)return alert("The opt is null."),!1;if(!t.value)return alert("The value is null."),!1;this.props.onFilterChange&&this.props.onFilterChange(t,e)}},__InputEnter:function(t,e){if(t.name=this.props.name,t.opt=this.state.opt,t.optIcon=this.state.icon,this.setState({value:t.value}),!this.state.opt)return alert("The opt is null."),!1;t.value||this.props.onCancel&&this.props.onCancel(this.props.name),this.props.onFilterChange&&this.props.onFilterChange(t,e)},__onOptItemClick:function(t){if("cancel"==t.value)return this.setState({icon:"faFilter",opt:""}),this.props.onCancel&&this.props.onCancel(this.props.name),!1;this.setState({icon:t.icon,opt:t.value}),this.state.value&&this.props.onOptChange&&this.props.onOptChange({name:this.props.name,value:this.state.value,opt:t.value,optIcon:t.icon},this)},__optItemRender:function(t,e){var n=this,i=s[t];if(i)return a.createElement("div",{className:"opt "+(this.state.opt==t?"curr":""),key:e,onClick:function(){return n.__onOptItemClick(i,e)}},i.icon&&a.createElement(r,{icon:i.icon}),i.text&&a.createElement("span",null,i.text))},__iconClickRender:function(){return a.createElement("ul",{className:"zr-filter-field-opts"},a.createElement(znui.react.DataView,{data:[].concat(this.props.opts).concat(["cancel"]),itemRender:this.__optItemRender}))},__renderIcon:function(){return this.state.icon?a.createElement(o.Dropdown,{className:"filter-opt",popover:{render:this.__iconClickRender,onWindowInsideContainerEvent:function(){return!0}}},a.createElement(r,{onClick:this.__iconClick,icon:this.state.icon})):null},render:function(){if(this.props.isHidden)return null;var t=zn.extend({},this.props,{onChange:this.__InputChange,onEnter:this.__InputEnter}),e=znui.react.createReactElement(t.component||t.render||i.Input,t);return a.createElement("div",{className:znui.react.classname("zr-filter-field",this.props.className),disabled:this.props.disabled},this.__renderIcon(),e)}})},function(t,e,n){t.exports={Filter:n(3),FilterField:n(1)}},function(t,e,n){function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var r=znui.React||n(0),o=n(1),i=n(7);t.exports=r.createClass({displayName:"ZRFilter",getInitialState:function(){return{loading:!0,data:{}}},__itemFilterChange:function(t,e,n){t.data=e,t.index=n,(t.sender=this).state.data[t.name]={name:t.name,opt:t.opt,value:t.value},this.props.onFilterChange&&this.props.onFilterChange(t,this.state.data,this)},__itemRender:function(e,n){var i=this;return r.createElement("div",{key:n,className:"filter-item"},r.createElement("div",{className:"item-label"},e.label),r.createElement(o,a({className:"item-field"},e,{onChange:function(t){return i.__itemFilterChange(t,e,n)}})))},__onLoading:function(){this.setState({loading:!0})},__onFinished:function(){this.setState({loading:!1})},render:function(){return r.createElement("div",{className:znui.react.classname("zr-filter",this.props.className),style:this.props.style},r.createElement(znui.react.DataView,{data:this.props.data,itemRender:this.__itemRender,onLoading:this.__onLoading,onFinished:this.__onFinished}),this.state.loading&&r.createElement(i.Loader,{content:"...",loader:"circle",size:"size-smail",layout:"flex-row"}))}})},function(t,e){!function(){t.exports=this.icon}()},function(t,e){!function(){t.exports=this.input}()},function(t,e){!function(){t.exports=this.popup}()},function(t,e){!function(){t.exports=this.loader}()}]));